<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ë§›ì§‘ ë¸”ë¡œê·¸ ê²€ìƒ‰</title>
    <!-- Font Awesome ì•„ì´ì½˜ ì‚¬ìš©ì„ ìœ„í•œ CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <style>
        body { font-family: 'Malgun Gothic', 'ë§‘ì€ ê³ ë”•', sans-serif; background-color: #ffffff; }
        .container { width: 700px; margin: 50px auto; } 
        .back-to-menu { display: block; text-align: left; margin-bottom: 30px; text-decoration: none; color: #03c75a; font-weight: bold; }
        h1 { text-align:center; color:#03c75a; margin-bottom: 40px; }

        /* ê²€ìƒ‰ í¼ ìŠ¤íƒ€ì¼ */
        .search-form-wrap {
            display: flex;
            border: 1px solid #03c75a; 
            border-radius: 40px; 
            overflow: hidden;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08); 
            height: 48px;
            margin-bottom: 50px; 
        }
        .search-input { flex-grow: 1; border: none; padding: 0 20px; font-size: 18px; outline: none; }
        .search-button { width: 70px; background-color: #03c75a; border: none; color: #ffffff; font-size: 18px; cursor: pointer; }
        .search-button:hover { background-color: #02b350; }
        .search-button i { font-size: 20px; }

        /* ê²€ìƒ‰ ê²°ê³¼ ë¦¬ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ */
        .results-container { margin-top: 20px; }
        .result-list { list-style: none; padding: 0; margin-top: 15px; }
        .result-item { padding: 15px 0; border-bottom: 1px solid #f1f1f1; text-align: left; }
        .item-link { font-size: 16px; color: #0000ff; text-decoration: none; }
        .item-description { font-size: 14px; color: #545454; margin-top: 5px; }
        .item-blogger { font-size: 12px; color: #008000; margin-top: 5px; }
    </style>
</head>
<body>
    <div class="container">
        <a href="/" class="back-to-menu">â¬…ï¸ ë©”ì¸ ë©”ë‰´ë¡œ ëŒì•„ê°€ê¸°</a>
        <h1>ğŸ½ï¸ ë„¤ì´ë²„ ë§›ì§‘ ë¸”ë¡œê·¸ ê²€ìƒ‰</h1>

        <!-- 1. ë§›ì§‘ ê²€ìƒ‰ í¼ -->
        <form class="search-form-wrap" action="/blog" method="GET">
            <input
                type="text"
                class="search-input"
                name="query"
                placeholder="ê²€ìƒ‰í•  ë§›ì§‘ í‚¤ì›Œë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”"
                value="{{ query or '' }}"
            >
            <button type="submit" class="search-button">
                <i class="fas fa-search"></i>
            </button>
        </form>

        <!-- 2. ë„¤ì´ë²„ ê²€ìƒ‰ ê²°ê³¼ -->
        <div class="results-container">
            {% if query and not results %}
                <p style="text-align:center; color:gray;">'{{ query }}'ì— ëŒ€í•œ ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
            {% elif results %}
                <p style="font-size: 18px; font-weight: bold;">ê²€ìƒ‰ ê²°ê³¼ ({{ results|length }}ê±´)</p>
                <ul class="result-list">
                    {% for item in results %}
                    <li class="result-item">
                        <a href="{{ item.link }}" target="_blank" class="item-link">{{ item.title | safe }}</a>
                        <p class="item-description">{{ item.description | safe }}</p>
                        <p class="item-blogger">{{ item.bloggername }} | {{ item.postdate }}</p>
                    </li>
                    {% endfor %}
                </ul>
            {% endif %}
        </div>
    </div>
</body>
</html>